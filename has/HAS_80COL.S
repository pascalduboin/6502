NLS
*
*#--------------->
* HAS_80COLS
* SCAN SLOTS
* FOR 80 COLS CARDS
*
* P. DUBOIN
* 1 NOV 2024
* LISA 2.5
*#--------------->
*
*
;
** ZPAGE
PTR EPZ 6
COL_80 EPZ 8
;
** ROM
HOME EQU $FC58
PRBYTE EQU $FDDA
;
ORG $800
OBJ $800
;
HAS_80C:
JSR HOME
LDA #0
STA PTR
LDX #7
;
NXT_80:
TXA
ORA #$C0
STA PTR+
;
LDY #5
LDA (PTR),Y
CMP #$38
BNE NO_80
;
INY
LDA (PTR),Y
CMP #$90
BNE NO_80
;
INY
LDA (PTR),Y
CMP #$18
BNE NO_80
;
; Optional
;
LDY #$0B
LDA (PTR),Y
CMP #1
BNE NO_80
;
LDY #$0C
LDA (PTR),Y
CMP #$88
BEQ HAS_80
;
NO_80:
DEX
BNE NXT_80
;
HAS_80:
STX COL_80
TXA
JMP PRBYTE
;
END
